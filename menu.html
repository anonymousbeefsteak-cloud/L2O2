<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç„¡åç‰›æ’ - èœå–® (A3 æ©«å‘åˆ—å°)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            -webkit-font-smoothing: antialiased;
            margin: 0;
            padding: 0;
            background: #f3f4f6;
        }

        /* === åˆ—å°è¨­å®šï¼šA3 æ©«å‘ï¼Œå…©ä»½èœå–®ä¸€é  === */
        @media print {
            @page {
                size: A3 landscape;
                margin: 0.8cm;
            }
            body, html {
                width: 42cm;
                height: 29.7cm;
                background: white;
                print-color-adjust: exact;
                -webkit-print-color-adjust: exact;
            }
            .no-print { display: none !important; }
            .printable-area {
                width: 100% !important;
                height: 100% !important;
                box-shadow: none !important;
                margin: 0 !important;
                padding: 0 !important;
                display: block !important;
            }
            .menu-sheet {
                page-break-after: always;
                height: 100%;
            }
            .menu-sheet:last-child {
                page-break-after: avoid;
            }
        }

        /* === å…±ç”¨æ¨£å¼ === */
        .table-header-cell {
            padding: 6px 4px;
            border: 1px solid #4b5563;
            text-align: center;
            font-weight: 700;
            font-size: 13px;
            color: #1f2937;
            background-color: #d1fae5;
            white-space: nowrap;
        }
        .table-body-cell {
            padding: 6px 4px;
            border: 1px solid #4b5563;
            font-size: 13px;
            vertical-align: middle;
        }
        .doneness-box {
            width: 18px;
            height: 18px;
            border: 1.5px solid #4b5563;
            margin: 0 auto;
            background: white;
        }
        .checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #4b5563;
            display: inline-block;
            margin: 0 4px;
            background: white;
        }
    </style>
</head>
<body class="bg-gray-200">

    <!-- åˆ—å°æŒ‰éˆ•ï¼ˆåˆ—å°æ™‚éš±è—ï¼‰ -->
    <div class="no-print p-5 text-center sticky top-0 bg-gray-200 z-50 shadow-md">
        <button onclick="window.print()" 
                class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg shadow-lg transition-transform transform hover:scale-105 text-lg">
            ğŸ–¨ï¸ åˆ—å°èœå–®ï¼ˆå„²å­˜ç‚º A3 PDFï¼‰
        </button>
        <p class="mt-2 text-sm text-gray-600">åˆ—å°å¾Œæœƒè‡ªå‹•è¼¸å‡ºå…©ä»½èœå–®æ–¼ä¸€å¼µ A3 ç´™ä¸Š</p>
    </div>

    <!-- èœå–®å®¹å™¨ï¼šå…©ä»½ä¸¦æ’ -->
    <div class="printable-area flex">
        <div id="menu-container" class="flex-1"></div>
    </div>

    <script>
        // === èœå–®è³‡æ–™ ===
        const MENU_DATA = [
            {
                title: "å¥—é¤",
                description: "é™„: â‘ æ—¥æ¹¯ â‘¡éºµåŒ… â‘¢ä¸»é¤ â‘£è„†è–¯ â‘¤é£²æ–™",
                items: [
                    { id: 'set-1', name: 'é¦™ç…æµ·ç›œç‰›æ’å¥—é¤', weight: '7oz', price: 299, isAvailable: true, doneness: true },
                    { id: 'set-2', name: 'é¦™ç…æµ·ç›œç‰›æ’å¥—é¤', weight: '14oz', price: 399, isAvailable: true, doneness: true },
                    { id: 'set-3', name: 'é¦™ç…æµ·ç›œç‰›æ’å¥—é¤', weight: '21oz', price: 499, isAvailable: true, doneness: true },
                    { id: 'set-4', name: 'é¦™ç…ç‰¹é¸æ¿è…±å¥—é¤', weight: '10oz', price: 399, isAvailable: true, doneness: true },
                    { id: 'set-5', name: 'é¦™ç…è€é¥•ä¸Šè“‹å¥—é¤', weight: '7oz', price: 399, isAvailable: true, doneness: true },
                    { id: 'set-6', name: 'é¦™ç…ç´è²åŠ›å¥—é¤', weight: '7oz', price: 499, isAvailable: true, doneness: true },
                    { id: 'set-7', name: 'é¦™ç…æ«»æ¡ƒé´¨èƒ¸å¥—é¤', weight: '10oz', price: 320, isAvailable: true, doneness: false },
                    { id: 'set-8', name: 'é¦™ç…é®®å«©é±¸é­šå¥—é¤', weight: '10oz', price: 320, isAvailable: true, doneness: false },
                    { id: 'set-9', name: 'é¦™ç…é®®å«©é›è…¿å¥—é¤', weight: '10oz', price: 250, isAvailable: true, doneness: false },
                    { id: 'set-10', name: 'é¦™ç…ç¾å‘³è±¬æ’å¥—é¤', weight: '10oz', price: 299, isAvailable: true, doneness: false },
                    { id: 'set-11', name: 'è‹±å¼ç‚¸é­šå¥—é¤', weight: '10oz', price: 250, isAvailable: true, doneness: false },
                    { id: 'set-12', name: 'æ—¥å¼è±¬æ’å¥—é¤', weight: '10oz', price: 250, isAvailable: true, doneness: false },
                ]
            },
            {
                title: "çµ„åˆé¤",
                description: "é™„: â‘ æ—¥æ¹¯ â‘¡éºµåŒ… â‘¢ä¸»é¤ â‘£è„†è–¯ â‘¤æ²™æ‹‰ â‘¥é£²æ–™",
                items: [
                    { id: 'combo-1', name: 'æ—¥è±¬ã€é›è…¿ã€ä¸Šè“‹çµ„åˆé¤', weight: '15oz', price: 529, isAvailable: true, doneness: true },
                    { id: 'combo-2', name: 'ç‚¸é­šã€é›è…¿ã€æ¿è…±çµ„åˆé¤', weight: '15oz', price: 529, isAvailable: true, doneness: true },
                    { id: 'combo-3', name: 'é±¸é­šã€é´¨èƒ¸ã€è±¬æ’çµ„åˆé¤', weight: '15oz', price: 529, isAvailable: true, doneness: false },
                    { id: 'combo-4', name: 'é´¨èƒ¸ã€é±¸é­šã€ä¸Šè“‹çµ„åˆé¤', weight: '15oz', price: 599, isAvailable: true, doneness: true },
                    { id: 'combo-5', name: 'Nè²ã€ä¸Šè“‹ã€æ¿è…±çµ„åˆé¤', weight: '15oz', price: 699, isAvailable: true, doneness: true },
                ]
            },
        ];

        const ADDONS = [
            { name: 'æµ·ç›œç‰›æ’', price: 200 }, { name: 'ç‰¹é¸æ¿è…±', price: 200 }, { name: 'è€é¥•ä¸Šè“‹', price: 200 },
            { name: 'ç´è²åŠ›', price: 250 }, { name: 'æ«»æ¡ƒé´¨èƒ¸', price: 150 }, { name: 'é®®å«©é±¸é­š', price: 150 },
            { name: 'é®®å«©é›è…¿', price: 120 }, { name: 'ç¾å‘³è±¬æ’', price: 120 }, { name: 'è‹±å¼ç‚¸é­š', price: 120 },
            { name: 'æ—¥å¼è±¬æ’', price: 120 },
        ];

        const GENERAL_ADDONS = [
            { name: "è’œå‘³éºµåŒ…", price: 60 }, { name: "é»ƒé‡‘è„†è–¯", price: 60 },
            { name: "è„†çš®é›å¡Š", price: 75 }, { name: "é¦™è‰å†°æ·‡æ·‹", price: 60 },
        ];

        const SAUCE_CHOICES = ["å·´é†‹", "æ©™æ±", "æ¤’é¹½", "èŠ¥æœ«", "æ³¡èœ", "BBQé†¬", "é»‘èƒ¡æ¤’", "è’œå‘³é†¬"];
        const DRINK_CHOICES = ["ç„¡ç³–ç´…èŒ¶", "å†°æ¶¼å¯æ¨‚"];
        const NOODLE_DISHES = [
            { name: 'æ˜¯æ—¥æ¶¼éºµ', price: 65 },
            { name: 'æ¶¼éºµå¥—é¤', price: 175, description: 'é™„: é£²æ–™' },
        ];
        const NOODLE_SAUCE_CHOICES = ["å°å¼æ¶¼éºµ", "æ—¥å¼æ¶¼éºµ", "æ³°å¼æ¶¼éºµ", "æ³•å¼å‡±æ’’æ¶¼éºµ", "è”¥é¦™æ¶¼éºµ"];
        const FOOTER_NOTES = [
            "ï¼Šåº—å…§æœ€ä½æ¶ˆè²»ç‚ºä¸€ä»½é¤é»", "ï¼Šæ‰“âœ“æ˜¯æœ‰ä¾›æ‡‰ æ‰“ X å°±æ˜¯æ²’æœ‰ä¾›æ‡‰",
            "ï¼Šä¸æ”¶æœå‹™è²»ï¼Œç”¨å®Œé¤è«‹å›æ”¶é¤å…·", "ï¼ŠåŠ è³¼æä¾›ä¸»å•†å“ç„¡æ­é…",
            "ï¼Šç”¨é¤é™ä¹ååˆ†é˜è«‹å‹¿é£²é…’", "ï¼Šé¤é»å…§å®¹ä»¥ç¾å ´å‡ºé¤ç‚ºä¸»", "ï¼Šç¾é»ç¾åšè«‹è€å¿ƒç­‰å€™"
        ];

        function findAddonPrice(itemName) {
            const match = ADDONS.find(a => itemName.includes(a.name.split('')[0]) || itemName.includes(a.name));
            return match ? match.price : null;
        }

        function generateMenuHTML() {
            let html = `
            <div class="menu-sheet grid grid-cols-2 gap-x-6 p-6 h-full text-sm">
                <!-- å·¦æ¬„ï¼šå¥—é¤ + çµ„åˆé¤ -->
                <div class="flex flex-col">
            `;

            MENU_DATA.forEach(category => {
                html += `
                <div class="mb-3 flex-1">
                    <h2 class="text-lg font-black bg-green-200 text-green-900 px-3 py-2 border border-gray-600 rounded-t">
                        ${category.title} <span class="text-xs font-normal">(${category.description})</span>
                    </h2>
                    <table class="w-full border-collapse border border-gray-600 text-xs">
                        <thead>
                            <tr class="bg-green-100">
                                <th class="table-header-cell w-4" rowspan="2">é¸</th>
                                <th class="table-header-cell" rowspan="2">ä¸»é¸</th>
                                <th class="table-header-cell w-12" rowspan="2">é‡é‡</th>
                                <th class="table-header-cell w-14" rowspan="2">å”®åƒ¹</th>
                                <th class="table-header-cell w-14" rowspan="2">5oz<br>åŠ è³¼</th>
                                <th class="table-header-cell w-14" rowspan="2">ç”œå“<br>åŠ è³¼</th>
                                <th class="table-header-cell w-14" rowspan="2">æ•¸é‡</th>
                                <th class="table-header-cell" colspan="4">ç‰›æ’ç†Ÿåº¦</th>
                            </tr>
                            <tr class="bg-green-100">
                                <th class="table-header-cell">3</th>
                                <th class="table-header-cell">5</th>
                                <th class="table-header-cell">7</th>
                                <th class="table-header-cell">å…¨</th>
                            </tr>
                        </thead>
                        <tbody>
                `;
                category.items.forEach(item => {
                    const addonPrice = findAddonPrice(item.name);
                    const soldOut = !item.isAvailable ? 'text-gray-400 line-through' : '';
                    html += `
                        <tr class="${soldOut}">
                            <td class="table-body-cell text-center"><span class="checkbox"></span></td>
                            <td class="table-body-cell font-semibold">${item.name.replace('å¥—é¤', '').replace('çµ„åˆé¤', '')}</td>
                            <td class="table-body-cell text-center">${item.weight}</td>
                            <td class="table-body-cell text-center font-bold">$${item.price}</td>
                            <td class="table-body-cell text-center">${category.title === 'çµ„åˆé¤' ? 'X' : (addonPrice ? `$${addonPrice}` : 'X')}</td>
                            <td class="table-body-cell text-center">$30</td>
                            <td class="table-body-cell text-center"></td>
                            ${item.doneness ? `
                                <td class="table-body-cell"><div class="doneness-box"></div></td>
                                <td class="table-body-cell"><div class="doneness-box"></div></td>
                                <td class="table-body-cell"><div class="doneness-box"></div></td>
                                <td class="table-body-cell"><div class="doneness-box"></div></td>
                            ` : `<td colspan="4" class="table-body-cell text-center font-bold text-red-600">X</td>`}
                        </tr>
                    `;
                });
                html += `</tbody></table></div>`;
            });

            // å·¦ä¸‹å‚™è¨»
            html += `
                <div class="mt-2 text-xs border border-gray-600 p-2 bg-gray-50 rounded">
                    ${FOOTER_NOTES.map(n => `<div class="mb-1">â€¢ ${n}</div>`).join('')}
                </div>
            </div>
            `;

            // === å³æ¬„ï¼šåŠ è³¼ã€é†¬æ–™ã€é£²æ–™ã€æ¶¼éºµ ===
            html += `
            <div class="flex flex-col space-y-3">
                <!-- ä¸»èœæ²¾é†¬ -->
                <div>
                    <h2 class="text-base font-black bg-green-200 text-green-900 px-3 py-2 border border-gray-600 rounded-t">ä¸»èœæ²¾é†¬ (æ“‡äºŒ)</h2>
                    <div class="grid grid-cols-4 border border-t-0 border-gray-600">
                        ${SAUCE_CHOICES.map(s => `
                            <div class="text-center p-2 border-r border-b border-gray-600 last:border-r-0">
                                <div class="font-semibold">${s}</div>
                                <div class="text-xs mt-1">___ ä»½</div>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <!-- æ¶¼éºµ -->
                <div>
                    <h2 class="text-base font-black bg-green-200 text-green-900 px-3 py-2 border border-gray-600 rounded-t">æ¶¼éºµ</h2>
                    <div class="border border-t-0 border-gray-600 p-2 space-y-1 text-xs">
                        ${NOODLE_DISHES.map(d => `
                            <div class="flex justify-between">
                                <span class="font-semibold">${d.name}</span>
                                <span class="font-bold">$${d.price}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <!-- æ¶¼éºµé†¬ -->
                <div>
                    <h2 class="text-base font-black bg-green-200 text-green-900 px-3 py-2 border border-gray-600 rounded-t">æ¶¼éºµé†¬ (æ“‡ä¸€)</h2>
                    <div class="grid grid-cols-5 border border-t-0 border-gray-600 text-xs">
                        ${NOODLE_SAUCE_CHOICES.map(s => `
                            <div class="text-center p-1 border-r border-b border-gray-600 last:border-r-0">
                                <div>${s}</div>
                                <div class="mt-1">___</div>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <!-- é£²æ–™ -->
                <div>
                    <h2 class="text-base font-black bg-green-200 text-green-900 px-3 py-2 border border-gray-600 rounded-t">é£²æ–™</h2>
                    <div class="grid grid-cols-2 border border-t-0 border-gray-600 text-xs">
                        ${DRINK_CHOICES.map(d => `
                            <div class="text-center p-2 border-r border-b border-gray-600 last:border-r-0">
                                <div class="font-semibold">${d}</div>
                                <div class="mt-1">___ ä»½</div>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <!-- åŠ è³¼å€ -->
                <div>
                    <h2 class="text-base font-black bg-green-200 text-green-900 px-3 py-2 border border-gray-600 rounded-t">åŠ è³¼å€</h2>
                    <div class="grid grid-cols-2 border border-t-0 border-gray-600 text-xs">
                        ${GENERAL_ADDONS.map(a => `
                            <div class="flex justify-between p-2 border-r border-b border-gray-600 last:border-r-0">
                                <span class="font-semibold">${a.name}</span>
                                <span class="font-bold">$${a.price}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <!-- å³ä¸‹å‚™è¨» -->
                <div class="mt-auto text-xs border border-gray-600 p-2 bg-gray-50 rounded">
                    ${FOOTER_NOTES.map(n => `<div class="mb-1">â€¢ ${n}</div>`).join('')}
                </div>
            </div>
            </div>`;
            return html;
        }

        // æ’å…¥å…©ä»½èœå–®ï¼ˆA3 ä¸€é å…©ä»½ï¼‰
        document.getElementById('menu-container').innerHTML = generateMenuHTML() + generateMenuHTML();
    </script>
</body>
</html>
